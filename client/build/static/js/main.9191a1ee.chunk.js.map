{"version":3,"sources":["components/Header.js","components/Home.js","components/Login.js","components/Register.js","components/CreatePost.js","components/ViewPost.js","components/EditPost.js","App.js","reportWebVitals.js","index.js"],"names":["Header","props","logout","bind","localStorage","removeItem","axios","defaults","headers","common","this","history","push","getItem","className","to","href","onClick","React","Component","withRouter","Home","state","posts","error","isLoading","fetchPosts","get","then","res","setState","data","catch","err","response","message","length","map","post","title","author","name","content","substr","_id","Login","onChangeEmail","onChangePassword","onSubmit","renderError","email","password","e","target","value","preventDefault","setItem","token","type","onChange","Register","onChangeName","CreatePost","onChangeTitle","onChangeContent","ViewPost","deletePost","onChangeComment","comment","commentError","match","params","id","comments","delete","postId","renderActions","renderComments","renderCommentForm","EditPost","authorId","put","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9191a1ee.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { withRouter, Link } from \"react-router-dom\";\r\nimport axios from \"axios\"\r\n\r\nclass Header extends React.Component{\r\n\r\n    constructor(props){\r\n\r\n        super(props);\r\n        this.logout=this.logout.bind(this);\r\n    }\r\n\r\n\r\n    logout(){\r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem('id');\r\n        axios.defaults.headers.common = {'Authorization': ''};\r\n        this.props.history.push('/');//move to home page\r\n    }\r\n\r\n\r\n\r\n    render(){\r\n\r\n\r\n        if(localStorage.getItem('token')){\r\n            return(\r\n\r\n                <div className=\"navbar\">\r\n\r\n                    <ul>\r\n                        \r\n                        <li><Link to=\"/\"> الصفحة الرئيسية </Link></li>\r\n\r\n                        <li><Link to=\"/post/create\"> انشاء تدوينة </Link></li>\r\n\r\n                        <li><a href=\"#logout\" onClick={this.logout}>تسجيل الخروج</a></li>\r\n\r\n                    </ul>\r\n\r\n                </div>\r\n\r\n            )\r\n        }\r\n        return(\r\n            <div className=\"navbar\">\r\n\r\n                <ul>\r\n                    <li><Link to=\"/\"> الصفحة الرئيسية </Link></li>\r\n\r\n                    <li><Link to=\"/Login\"> تسجيل الدخول </Link></li>\r\n\r\n                    <li><Link to=\"/Register\"> التسجيل  </Link></li>\r\n\r\n                </ul>\r\n\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nexport default withRouter(Header);","\r\n import React from 'react';\r\n\r\n \r\n import axios from 'axios';\r\n \r\n import { Link } from 'react-router-dom';\r\n\r\n class Home extends React.Component{\r\n \r\n     constructor(props){\r\n         super(props);\r\n        \r\n         this.state = {\r\n             posts: [],\r\n             error: '',\r\n             isLoading: true\r\n         };\r\n     }\r\n \r\n     componentDidMount(){\r\n         \r\n       this.fetchPosts();\r\n       \r\n     }\r\n \r\n     fetchPosts(){\r\n         axios.get('/api/posts')\r\n\r\n         .then(res => {\r\n            \r\n             this.setState({\r\n                 posts: res.data,\r\n                 error: '',\r\n                 isLoading: false\r\n             });\r\n         })\r\n\r\n         .catch(err=>{   \r\n\r\n         //alert(err.response.data.message)\r\n           this.setState({\r\n                error: err.response.data.message\r\n            });\r\n        })\r\n       \r\n     }\r\n \r\n     render(){\r\n         if(this.state.isLoading){\r\n             return(<h4>الرجاء الإنتظار</h4>);\r\n         }\r\n         if(this.state.error){\r\n             return(<blockquote>{this.state.error}</blockquote>);\r\n         }\r\n         if(this.state.posts.length < 1){\r\n             return(<h4>لايوجد تدوينات</h4>);\r\n         }\r\n         return (this.state.posts.map(post => {\r\n             return (\r\n                 <div key={post._id} className=\"row\">\r\n                     <div className=\"column\">\r\n\r\n                         <h4>{post.title}</h4>\r\n\r\n                         <h6 className=\"title\">{post.author.name}</h6>\r\n\r\n                         <p>{post.content.substr(0,120)}</p>\r\n\r\n                         <Link to={'/post/view/'+post._id}>\r\n                            <button className=\"button-primary button-outline\">افرأ المزيد</button>\r\n                         </Link>\r\n                      \r\n                         <hr/>\r\n                     </div>\r\n                 </div>\r\n             )\r\n\r\n         })\r\n         )\r\n     }\r\n }\r\n \r\n export default Home;","import React from 'react';\r\n\r\nimport axios from 'axios';\r\n\r\nclass Login extends React.Component{\r\n\r\n    constructor(props){\r\n\r\n        super(props);\r\n        if(localStorage.getItem('token')){\r\n            this.props.history.push('/');//move to home page\r\n        }\r\n     \r\n        this.onChangeEmail=this.onChangeEmail.bind(this);\r\n        this.onChangePassword=this.onChangePassword.bind(this);\r\n        this.onSubmit=this.onSubmit.bind(this);\r\n        this.renderError=this.renderError.bind(this);\r\n\r\n        this.state={\r\n\r\n            email:'',\r\n            password:'',\r\n            error:''\r\n\r\n        };\r\n    }\r\n\r\n\r\n\r\n    onChangeEmail(e){\r\n\r\n        this.setState({\r\n\r\n            email:e.target.value,\r\n            error:''\r\n        });\r\n    }\r\n\r\n    onChangePassword(e){\r\n\r\n        this.setState({\r\n\r\n            password:e.target.value,\r\n            error:''\r\n        });\r\n    }\r\n\r\n\r\n    onSubmit(e){\r\n\r\n        e.preventDefault();\r\n\r\n        let data = {\r\n\r\n            email:this.state.email,\r\n\r\n            password:this.state.password\r\n\r\n        };\r\n\r\n        axios.post('/api/auth',data)\r\n\r\n        .then(res=>{\r\n            //alert(res.data.token);\r\n            localStorage.setItem('token', res.data.token);\r\n            localStorage.setItem('_id', res.data._id);\r\n            axios.defaults.headers.common = {'Authorization': res.data.token};\r\n            this.props.history.push('/');//move to home page\r\n        })\r\n\r\n        .catch(err=>{   \r\n\r\n            //alert(err.response.data.message)\r\n           this.setState({\r\n                error: err.response.data.message\r\n            });\r\n        })\r\n    }\r\n\r\n\r\n    renderError(){\r\n        return this.state.error ? (<blockquote>{this.state.error}</blockquote>) : \"\";\r\n    \r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"column column-50 offset-25\">\r\n             \r\n                <h4>تسجيل الدخول</h4>\r\n\r\n                <hr />\r\n\r\n                {this.renderError()}\r\n\r\n\r\n                <form onSubmit={this.onSubmit}>\r\n                    <label>البريد الالكتروني</label>\r\n                    <input type=\"email\" value={this.state.email} onChange={this.onChangeEmail}/>\r\n                    <label> كلمة المرور</label>\r\n                    <input type=\"password\" value={this.state.password} onChange={this.onChangePassword}/>\r\n                    <input className=\"button-primary\" type=\"submit\" value=\"تسجيل الدخول\"  />\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default Login;","import React from 'react';\r\n\r\nimport axios from 'axios';\r\n\r\nclass Register extends React.Component{\r\n\r\n    constructor(props){\r\n\r\n        super(props);\r\n\r\n        if(localStorage.getItem('token')){\r\n            this.props.history.push('/');//move to home page\r\n        }\r\n        this.onChangeName=this.onChangeName.bind(this);\r\n        this.onChangeEmail=this.onChangeEmail.bind(this);\r\n        this.onChangePassword=this.onChangePassword.bind(this);\r\n        this.onSubmit=this.onSubmit.bind(this);\r\n        this.renderError=this.renderError.bind(this);\r\n\r\n        this.state={\r\n\r\n            name:'',\r\n            email:'',\r\n            password:'',\r\n            error:''\r\n\r\n        };\r\n    }\r\n\r\n    onChangeName(e){\r\n\r\n        this.setState({\r\n\r\n            name:e.target.value,\r\n            error:''\r\n        });\r\n    }\r\n\r\n    onChangeEmail(e){\r\n\r\n        this.setState({\r\n\r\n            email:e.target.value,\r\n            error:''\r\n        });\r\n    }\r\n\r\n    onChangePassword(e){\r\n\r\n        this.setState({\r\n\r\n            password:e.target.value,\r\n            error:''\r\n        });\r\n    }\r\n\r\n\r\n    onSubmit(e){\r\n\r\n        e.preventDefault();\r\n\r\n        let data = {\r\n            name:this.state.name,\r\n\r\n            email:this.state.email,\r\n\r\n            password:this.state.password\r\n\r\n        };\r\n\r\n        axios.post('/api/register',data)\r\n\r\n        .then(res=>{\r\n            //alert(res.data.token);\r\n            \r\n            localStorage.setItem('token', res.data.token);\r\n            localStorage.setItem('_id', res.data._id);\r\n            axios.defaults.headers.common = {'Authorization': res.data.token};\r\n            this.props.history.push('/');//move to home page\r\n        })\r\n\r\n        .catch(err=>{   \r\n\r\n            //alert(err.response.data.message)\r\n           this.setState({\r\n                error: err.response.data.message\r\n            });\r\n        })\r\n    }\r\n\r\n\r\n    renderError(){\r\n        return this.state.error ? (<blockquote>{this.state.error}</blockquote>) : \"\";\r\n    \r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"column column-50 offset-25\">\r\n              \r\n\r\n                <h4>انشاء حساب جديد</h4>\r\n\r\n                <hr />\r\n\r\n                {this.renderError()}\r\n                \r\n                <form onSubmit={this.onSubmit}>\r\n                    <label>الاسم</label>\r\n                    <input type=\"text\" value={this.state.name} onChange={this.onChangeName}/>\r\n                    <label>البريد الالكتروني</label>\r\n                    <input type=\"email\" value={this.state.email} onChange={this.onChangeEmail}/>\r\n                    <label> كلمة المرور</label>\r\n                    <input type=\"password\" value={this.state.password} onChange={this.onChangePassword}/>\r\n                    <input className=\"button-primary\" type=\"submit\" value=\"التسجيل\"  />\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default Register;","import React from 'react';\r\n\r\nimport axios from 'axios';\r\n\r\nclass CreatePost extends React.Component{\r\n\r\n    constructor(props){\r\n\r\n        super(props);\r\n        if(!localStorage.getItem('token')){\r\n            this.props.history.push('/Login');//move to home page\r\n        }\r\n     \r\n        this.onChangeTitle=this.onChangeTitle.bind(this);\r\n        this.onChangeContent=this.onChangeContent.bind(this);\r\n        this.onSubmit=this.onSubmit.bind(this);\r\n        this.renderError=this.renderError.bind(this);\r\n\r\n        this.state={\r\n\r\n            title:'',\r\n            content:'',\r\n            error:''\r\n\r\n        };\r\n    }\r\n\r\n\r\n\r\n    onChangeTitle(e){\r\n\r\n        this.setState({\r\n\r\n            title:e.target.value,\r\n            error:''\r\n        });\r\n    }\r\n\r\n    onChangeContent(e){\r\n\r\n        this.setState({\r\n\r\n            content:e.target.value,\r\n            error:''\r\n        });\r\n    }\r\n\r\n\r\n    onSubmit(e){\r\n\r\n        e.preventDefault();\r\n\r\n        let data = {\r\n\r\n            title:this.state.title,\r\n\r\n            content:this.state.content\r\n\r\n        };\r\n\r\n        axios.post('/api/posts',data)\r\n\r\n        .then(res=>{\r\n            //alert(res.data.token);\r\n            this.props.history.push('/');//move to home page\r\n        })\r\n\r\n        .catch(err=>{   \r\n\r\n            //alert(err.response.data.message)\r\n           this.setState({\r\n                error: err.response.data.message\r\n            });\r\n        })\r\n    }\r\n\r\n\r\n    renderError(){\r\n\r\n        return this.state.error ? (<blockquote>{this.state.error}</blockquote>) : \"\";\r\n    \r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"column column-50 offset-25\">\r\n              \r\n\r\n                <h4> انشاء التدوينة</h4>\r\n\r\n                <hr />\r\n\r\n                {this.renderError()}\r\n\r\n\r\n                <form onSubmit={this.onSubmit}>\r\n                    <label> العنوان</label>\r\n                    <input type=\"text\" value={this.state.title} onChange={this.onChangeTitle}/>\r\n                    <label> المحتوى</label>\r\n                    <textarea  value={this.state.content} onChange={this.onChangeContent}></textarea>\r\n                    <input className=\"button-primary\" type=\"submit\" value=\" انشاء التدوينة\"  />\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default CreatePost;","\r\n import React from 'react';\r\n\r\n\r\n import axios from 'axios';\r\n \r\n \r\n import { Link } from 'react-router-dom';\r\n \r\n \r\n class ViewPost extends React.Component{\r\n \r\n     constructor(props){\r\n         super(props);\r\n         this.deletePost = this.deletePost.bind(this);\r\n         this.onChangeComment = this.onChangeComment.bind(this);\r\n         this.onSubmit = this.onSubmit.bind(this);\r\n         this.state = {\r\n             post: {},\r\n             comment: '',\r\n             commentError: '',\r\n             error: ''\r\n         };\r\n     }\r\n //اضافة التعليق الموجود داخل ال textarea\r\n     onChangeComment(e){\r\n         this.setState({\r\n             comment: e.target.value,\r\n             commentError: ''\r\n         });\r\n     }\r\n //عند النقر ع زر ارسال الخاص باتعليق يتم اضافة التعليق\r\n     onSubmit(e){\r\n         e.preventDefault();\r\n         let data = { content: this.state.comment };\r\n         axios.post('/api/comments/'+this.props.match.params.id, data)\r\n         .then(res => {\r\n             let post = this.state.post;\r\n             post.comments.push({\r\n                 _id: res.data._id,\r\n                 content: res.data.content,\r\n                 author: { _id: localStorage.getItem('_id') }\r\n             });\r\n             this.setState({\r\n                 post: post,\r\n                 commentError: '',\r\n                 comment: ''\r\n             });\r\n         })\r\n         .catch(err => {\r\n             this.setState({\r\n                 commentError: <blockquote>{err.response.data.message}</blockquote>\r\n             });\r\n         });\r\n     }\r\n //حذف التعليق\r\n     deletePost(){\r\n         axios.delete(\"/api/posts/\"+this.state.post._id)\r\n         .then(res => {\r\n             this.props.history.push('/');\r\n         })\r\n     }\r\n \r\n     componentDidMount(){\r\n         let postId = this.props.match.params.id\r\n         axios.get('/api/posts/'+postId)\r\n         .then(res => {\r\n             this.setState({\r\n                 post: res.data,\r\n                 error: ''\r\n             });\r\n         })\r\n         .catch(err => {\r\n             this.setState({\r\n                 error: err.response.data.message\r\n             });\r\n         });\r\n     }\r\n //تعديل ع التعليق\r\n     renderActions(){\r\n         if(localStorage.getItem('token') && localStorage.getItem('_id') === this.state.post.author._id){\r\n             return(\r\n                 <span>\r\n                     <Link to={\"/post/edit/\"+this.state.post._id}>\r\n                         <button>تعديل</button>\r\n                     </Link>\r\n                     <button onClick={this.deletePost}>حذف</button>\r\n                 </span>\r\n             );\r\n         }\r\n     }\r\n \r\n     renderComments(){\r\n         let comments = <p>لايوجد تعليقات.</p>;\r\n         if(this.state.post.comments.length){\r\n             comments = this.state.post.comments.map(comment => {\r\n                 return(\r\n                     <p key={comment._id}>\r\n                         <strong className=\"title\">\r\n                             {comment.author._id === localStorage.getItem('_id') ? 'أنا' : comment.author.name}\r\n                         </strong>\r\n                         <br/>\r\n                         {comment.content}\r\n                     </p>\r\n                 );\r\n             });\r\n         }\r\n         return comments;\r\n     }\r\n //اضافة فورم من اجل اضافة التعليق\r\n     renderCommentForm(){\r\n         if(!localStorage.getItem('token')){\r\n             return(<p>الرجاء تسجيل الدخول للتعليق على هذه التدوينة.</p>);\r\n         }\r\n         return(\r\n             <div>\r\n                 <h4>إضافة تعليق</h4>\r\n                 {this.state.commentError}\r\n                 <form onSubmit={this.onSubmit}>\r\n                     <textarea value={this.state.comment} onChange={this.onChangeComment}></textarea>\r\n                     <input className=\"button-primary\" type=\"submit\" value=\"إرسال\" />\r\n                 </form>\r\n             </div>\r\n         );\r\n     }\r\n \r\n     render(){\r\n         if(this.state.error){\r\n             return(<blockquote>{this.state.error}</blockquote>);\r\n         }\r\n         if(!this.state.post.title){\r\n             return(<h4>الرجاء الإنتظار</h4>);\r\n         }\r\n         return(\r\n             <div className=\"column\">\r\n                 <h4>{this.state.post.title}</h4>\r\n                 <h6 className=\"title\">{this.state.post.author.name}</h6>\r\n                 <p>{this.state.post.content}</p>\r\n                 {this.renderActions()}\r\n                 <hr/>\r\n                 <h4>التعليقات</h4>\r\n                 {this.renderComments()}\r\n                 {this.renderCommentForm()}\r\n             </div>\r\n         );\r\n     }\r\n \r\n }\r\n \r\n export default ViewPost","import React from 'react';\r\n\r\nimport axios from 'axios';\r\n\r\nclass EditPost extends React.Component{\r\n\r\n    constructor(props){\r\n\r\n        super(props);\r\n        \r\n        if(!localStorage.getItem('token')){\r\n            this.props.history.push('/Login');//move to home page\r\n        }\r\n     \r\n        this.onChangeTitle=this.onChangeTitle.bind(this);\r\n        this.onChangeContent=this.onChangeContent.bind(this);\r\n        this.onSubmit=this.onSubmit.bind(this);\r\n        this.renderError=this.renderError.bind(this);\r\n\r\n        this.state={\r\n\r\n            title:'',\r\n            content:'',\r\n            authorId:'',\r\n            isLoading:true,\r\n            error:''\r\n\r\n        };\r\n    }\r\n\r\n\r\n\r\n    onChangeTitle(e){\r\n\r\n        this.setState({\r\n\r\n            title:e.target.value,\r\n            error:''\r\n        });\r\n    }\r\n\r\n    onChangeContent(e){\r\n\r\n        this.setState({\r\n\r\n            content:e.target.value,\r\n            error:''\r\n        });\r\n    }\r\n\r\n\r\n    onSubmit(e){\r\n\r\n        e.preventDefault();\r\n\r\n        let data = {\r\n\r\n            title:this.state.title,\r\n\r\n            content:this.state.content\r\n\r\n        };\r\n\r\n        axios.put('/api/posts/'+this.props.match.params.id,data)\r\n\r\n        .then(res=>{\r\n            //alert(res.data.token);\r\n            this.props.history.push('/');//move to home page\r\n        })\r\n\r\n        .catch(err=>{   \r\n\r\n            //alert(err.response.data.message)\r\n           this.setState({\r\n                error: err.response.data.message\r\n            });\r\n        })\r\n    }\r\n\r\n    componentDidMount(){\r\n        axios.get('/api/posts/'+this.props.match.params.id)\r\n\r\n        .then(res=>{\r\n\r\n            this.setState({\r\n\r\n                title:res.data.title,\r\n                content:res.data.content,\r\n                authorId:res.data.author._id,\r\n                isLoading:false\r\n            })\r\n        })\r\n    }\r\n\r\n    renderError(){\r\n\r\n        return this.state.error ? (<blockquote>{this.state.error}</blockquote>) : \"\";\r\n    \r\n    }\r\n\r\n    render(){\r\n\r\n        if(this.state.isLoading){\r\n            return(<h4>الرجاء الانتضار</h4>)\r\n        }\r\n\r\n        if(localStorage.getItem('_id') !== this.state.authorId){\r\n            return(<blockquote>خطا 404</blockquote>);\r\n        }\r\n        return(\r\n            <div className=\"column column-50 offset-25\">\r\n              \r\n\r\n                <h4> تعديل التدوينة</h4>\r\n\r\n                <hr />\r\n\r\n                {this.renderError()}\r\n\r\n\r\n                <form onSubmit={this.onSubmit}>\r\n                    <label> العنوان</label>\r\n                    <input type=\"text\" value={this.state.title} onChange={this.onChangeTitle}/>\r\n                    <label> المحتوى</label>\r\n                    <textarea  value={this.state.content} onChange={this.onChangeContent}></textarea>\r\n                    <input className=\"button-primary\" type=\"submit\" value=\" تعديل التدوينة\"  />\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default EditPost;","import React , { Component } from \"react\";\nimport { BrowserRouter as Router , Switch , Route} from \"react-router-dom\";\nimport './App.css';\nimport Header from \"./components/Header\";\n\nimport Home from \"./components/Home\";\n\nimport Login from \"./components/Login\";\n\nimport Register from \"./components/Register\";\n\nimport CreatePost from \"./components/CreatePost\";\n\nimport ViewPost from \"./components/ViewPost\";\n\nimport EditPost from \"./components/EditPost\";\n\nimport axios from \"axios\";\nclass App extends React.Component {\n\n  constructor(props){\n    super(props);\n    let token = localStorage.getItem('token');\n    axios.defaults.headers.common = {'Authorization': token};\n  }\n\n  render(){\n      return (\n\n        <Router>\n            <div>\n                <Header></Header>\n                <div className=\"container\">\n                  <div>\n                      <Switch>\n                          <Route exact path=\"/\"  component={Home}/>\n                          <Route  path=\"/Login\"  component={Login}/>\n                          <Route  path=\"/Register\"  component={Register}/>\n                          <Route  path=\"/post/create\"  component={CreatePost}/>\n                          <Route  path=\"/post/view/:id\"  component={ViewPost}/>\n                          <Route  path=\"/post/edit/:id\"  component={EditPost}/>\n                      </Switch>\n                    </div>\n                </div>\n            </div>\n          </Router>  \n           \n      );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'milligram/dist/milligram.min.css'\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}